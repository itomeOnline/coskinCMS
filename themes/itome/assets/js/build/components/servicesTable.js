var app=function(e){"use strict";return e.servicesTable=()=>{const e={},t={activeGenderId:void 0,activeFormatId:void 0,activePackageId:void 0};let a={};const r=e=>{const a=e.target.dataset.genderBtn;if(!a)throw Error("Gender Id is undefined");t.activeGenderId=+a,c()},n=e=>{const a=e.target.dataset.formatBtn;if(!a)throw Error("Gender Id is undefined");t.activeFormatId=+a,c()},s=e=>{const a=e.target.dataset.packageBtn;if(!a)throw Error("Gender Id is undefined");t.activePackageId=+a,c()},c=()=>{const r=a.services.filter((({gender_id:e,format_id:a})=>e===t.activeGenderId&&a===t.activeFormatId)),n=a.packages.find((({id:e})=>e===t.activePackageId))?.discount_percentage;return e.genderBtns.forEach((e=>e.classList.toggle("is-active",+e.dataset.genderBtn===t.activeGenderId))),e.formatBtns.forEach((e=>e.classList.toggle("is-active",+e.dataset.formatBtn===t.activeFormatId))),e.packageBtns.forEach((e=>e.classList.toggle("is-active",+e.dataset.packageBtn===t.activePackageId))),0===r.length?e.tableWrapper.innerHTML="<h2>Ничего не найдено</h2>":e.tableWrapper.innerHTML=r.map((({name:e,price:t,time:a,id:r})=>{const s=n&&n>0?t-t*(n/100):t;return`\n                <div class="prices__line">\n                    <p class="prices__text">${e}</p>\n                    <p class="prices__text prices__text--bold">${a}</p>\n                    <p class="prices__text prices__text--price prices__text--bold">${n?'<span class="prices__text--defaultPrice">'+t.toLocaleString("ru-RU")+"</span>":""}${s.toLocaleString("ru-RU")} ₽</p>\n                    <button class="prices__text prices__text--grey" data-service-btn-id="${r}">Записаться</button>\n                </div>\n            `})).join("")};return{init:()=>{e.root=document.querySelector("[data-services-table]"),e.genderBtns=e.root.querySelectorAll("[data-gender-btn]"),e.formatBtns=e.root.querySelectorAll("[data-format-btn]"),e.packageBtns=e.root.querySelectorAll("[data-package-btn]"),e.tableWrapper=e.root.querySelector("[data-table-wrapper]"),(()=>{if(!e.genderBtns&&0===e.genderBtns.length)throw Error("genderBtns is undefined");if(!e.formatBtns&&0===e.formatBtns.length)throw Error("formatBtns is undefined");if(!e.packageBtns&&0===e.packageBtns.length)throw Error("packageBtns is undefined");t.activeGenderId=+e.genderBtns[0].dataset.genderBtn,t.activeFormatId=+e.formatBtns[0].dataset.formatBtn,t.activePackageId=+e.packageBtns[0].dataset.packageBtn,a=JSON.parse(e.root.dataset.tableJson)})(),e.genderBtns.forEach((e=>e.addEventListener("click",r))),e.formatBtns.forEach((e=>e.addEventListener("click",n))),e.packageBtns.forEach((e=>e.addEventListener("click",s))),c()}}},e}({});